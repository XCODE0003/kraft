<script setup>
import Layout from "@/Layouts/Layout.vue";
import { Link } from "@inertiajs/vue3";
import { useContactModalStore } from "@/Stores/Modals/ContactStore";
import { useSettingStore } from "@/Stores/SettingStore";
import { Swiper, SwiperSlide } from "swiper/vue";
import "swiper/css";
import { ref } from "vue";

const props = defineProps({
    products: Object,
    categories: Object,
});

const swiperInstance = ref(null);

const onSwiper = (swiper) => {
    swiperInstance.value = swiper;
};

const onSlideChange = () => {
    console.log("Слайд изменен");
};

const slideNext = () => {
    if (swiperInstance.value) {
        swiperInstance.value.slideNext();
    }
};
const settingStore = useSettingStore();
</script>

<template>
    <Layout>
        <main class="flex flex-col gap-24">
            <section class="relative main_page_container">
                <div class="container py-10 mx-auto">
                    <div class="lg:max-w-[570px] flex flex-col gap-8 sm:gap-28">
                        <h1
                            class="text-3xl sm:text-[56px] leading-[92%] font-bold RF-Dewi-Extended"
                        >
                            Комплексное и оптовые поставки металлопроката
                            <br /><span class="text-black/35"
                                >по всей России</span
                            >
                        </h1>
                        <div class="flex flex-col gap-8">
                            <p class="text-gray_icon font-normal text-xl">
                                Мы предлагаем широкий ассортимент
                                металлопроката, соответствующего все требованиям
                                ГОСТ, применяемого в строительных, промышленных
                                и производственных целях.
                            </p>
                            <button
                                @click="useContactModalStore().openModal()"
                                class="btn btn-primary p-6 sm:w-fit flex justify-center"
                            >
                                Заказать звонок
                            </button>
                        </div>
                    </div>
                </div>

                <div
                    class="max-md:hidden overflow-hidden absolute bottom-0 right-0 -z-10 w-[50%]"
                >
                    <img
                        src="/assets/img/metall.png"
                        class="object-contain h-[700px]"
                        alt="metall"
                        srcset=""
                    />
                </div>
            </section>
            <section class="flex overflow-x-hidden flex-col gap-12">
                <div
                    class="container max-sm:flex-col mx-auto flex justify-between md:items-center"
                >
                    <div
                        class="flex max-sm:flex-col max-md:gap-2 title sm:items-center gap-4"
                    >
                        <p class="title leading-none font-bold">Наш каталог</p>
                        <p
                            class="title max-sm:text-xl max-md:text-2xl leading-none text-black/35 font-bold"
                        >
                            {{ categories.length }} категорий
                        </p>
                    </div>
                    <Link
                        href="/catalog"
                        class="flex max-sm:hidden items-center text-gray_icon gap-1"
                    >
                        Смотреть все категории
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="14"
                            height="11"
                            viewBox="0 0 14 11"
                            fill="none"
                        >
                            <path
                                d="M1.66683 5.5H12.3335M12.3335 5.5L8.3335 1.5M12.3335 5.5L8.3335 9.5"
                                stroke="#4B4951"
                                stroke-width="1.6"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            />
                        </svg>
                    </Link>
                    <Link
                        href="/catalog"
                        class="max-sm:flex hidden btn btn-secondary leading-none mt-3 max-md:w-fit"
                    >
                        Смотреть все категории
                    </Link>
                </div>
                <div class="container mx-auto relative">
                    <div class="flex items-center overflow-scroll gap-4">
                        <Swiper
                            :loop="false"
                            :allow-touch-move="true"
                            :breakpoints="{
                                320: {
                                    slidesPerView: 1,
                                    spaceBetween: 20,
                                },
                                768: {
                                    slidesPerView: 2,
                                    spaceBetween: 20,
                                },
                                1024: {
                                    slidesPerView: 3,
                                    spaceBetween: 20,
                                },
                            }"
                            @swiper="onSwiper"
                            @slideChange="onSlideChange"
                        >
                            <SwiperSlide v-for="category in categories">
                                <div class="category-card">
                                    <p
                                        class="text-black/80 text-xl max-sm:hidden"
                                    >
                                        {{ category.products_count }} товара
                                    </p>
                                    <img
                                        :src="'/storage/' + category.image"
                                        class="img-category"
                                        alt="category"
                                    />
                                    <div
                                        class="flex items-center justify-center max-w-[200px] text-center flex-col gap-6"
                                    >
                                        <p
                                            class="text-dark text-2xl leading-[100%] font-bold RF-Dewi-Extended"
                                        >
                                            {{ category.name }}
                                        </p>
                                        <Link
                                            :href="'/category/' + category.id"
                                            class="next max-sm:hidden"
                                        >
                                            Перейти
                                            <svg
                                                width="8"
                                                height="14"
                                                viewBox="0 0 8 14"
                                                fill="none"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <path
                                                    d="M1 13L7 7L1 1"
                                                    stroke="#7645EF"
                                                    stroke-width="1.6"
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                />
                                            </svg>
                                        </Link>
                                    </div>
                                    <p class="text-black/80 text-xl sm:hidden">
                                        {{ category.products_count }} товара
                                    </p>
                                </div>
                            </SwiperSlide>
                        </Swiper>
                    </div>

                    <div
                        class="absolute flex gap-2 transform -translate-x-1/2 z-10 w-full justify-between px-5 left-1/2 top-1/2"
                    >
                        <button
                            v-if="swiperInstance?.activeIndex > 0"
                            @click="swiperInstance?.slidePrev()"
                            class="rounded-full bg-white h-10 w-10 flex items-center justify-center shadow-md"
                        >
                            <svg
                                width="8"
                                height="14"
                                viewBox="0 0 8 14"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M7 1L1 7L7 13"
                                    stroke="#7645EF"
                                    stroke-width="1.6"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                        </button>
                        <div v-else></div>
                        <button
                            v-if="
                                swiperInstance?.activeIndex <
                                swiperInstance?.slides?.length -
                                    swiperInstance?.params?.slidesPerView
                            "
                            @click="swiperInstance?.slideNext()"
                            class="rounded-full bg-white h-10 w-10 flex items-center justify-center shadow-md"
                        >
                            <svg
                                width="8"
                                height="14"
                                viewBox="0 0 8 14"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M1 13L7 7L1 1"
                                    stroke="#7645EF"
                                    stroke-width="1.6"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                        </button>
                    </div>
                </div>
            </section>
            <section
                class="flex container items-center justify-center mx-auto flex-col gap-12"
            >
                <h2 class="title-big text-center max-w-[630px]">
                    Уникальные преимущества
                </h2>
                <div class="grid md:grid-cols-2 gap-3 w-full">
                    <div class="advantages-card advantages-bg-1">
                        <div class="advantages-item">
                            <div>
                                <svg
                                    width="24"
                                    height="25"
                                    viewBox="0 0 24 25"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M16.4239 8.76545C16.0487 8.43653 15.5091 8.44401 15.1995 8.53962C15.4023 8.29057 15.8747 8.08637 16.0139 8.06158C16.1199 8.10132 16.4239 8.41371 16.4239 8.76545ZM17.6219 7.40335C17.3751 6.08335 14.3075 6.95798 12.7627 6.39732C12.7331 6.78211 13.2383 7.39863 13.7215 7.62683C12.8955 8.34368 12.1539 9.78801 12.0043 11.5526C11.8551 9.78801 11.1135 8.34368 10.2875 7.62683C10.7707 7.39863 11.2763 6.78211 11.2463 6.39732C9.70148 6.95798 6.63388 6.08335 6.38668 7.40335C6.33468 7.6827 6.46908 8.1084 6.61428 8.23076C6.64028 8.14224 6.77588 7.85266 7.20348 7.78775C9.36468 7.46119 11.1691 10.7921 9.54028 12.1388C9.51548 12.1593 9.52948 12.1971 9.56308 12.1971H14.4463C14.4795 12.1971 14.4935 12.1593 14.4691 12.1388C12.8399 10.7921 14.6443 7.46119 16.8055 7.78775C17.2335 7.85266 17.3687 8.14224 17.3947 8.23076C17.5399 8.1084 17.6743 7.6827 17.6219 7.40335ZM18.1475 4.37385C18.1087 4.24912 19.3759 4.24598 19.3759 5.03916C19.3759 5.5707 18.6179 5.8225 18.6179 6.37411C18.6179 6.63103 18.8943 6.81948 18.9791 6.81948C18.7839 5.93385 19.5911 6.39732 19.8091 6.56296C19.3759 5.37201 20.3511 5.37948 20.2551 4.83339C20.1883 4.45175 19.3407 4.56703 19.0339 4.37385C18.4895 4.03116 17.8455 2.69778 17.4211 4.03116C18.2123 4.76571 17.7519 5.84689 16.7475 5.84689C16.7475 5.84689 16.7419 6.00545 16.7511 6.01804C17.9491 5.95942 18.3667 5.07889 18.1475 4.37385ZM4.17068 6.56296C4.38868 6.39732 5.19588 5.93385 5.00108 6.81948C5.08548 6.81948 5.36188 6.63103 5.36188 6.37411C5.36188 5.8225 4.60388 5.5707 4.60388 5.03916C4.60388 4.24598 5.87108 4.24912 5.83228 4.37385C5.61348 5.07889 6.03108 5.95942 7.22908 6.01804C7.23788 6.00545 7.23228 5.84689 7.23228 5.84689C6.22828 5.84689 5.76788 4.76571 6.55868 4.03116C6.13428 2.69778 5.49028 4.03116 4.94588 4.37385C4.63908 4.56703 3.79148 4.45175 3.72468 4.83339C3.62908 5.37948 4.60388 5.37201 4.17068 6.56296ZM7.57228 8.76545C7.94788 8.43653 8.48748 8.44401 8.79668 8.53962C8.59468 8.29057 8.12148 8.08637 7.98268 8.06158C7.87668 8.10132 7.57228 8.41371 7.57228 8.76545ZM12.5743 1.38171L11.9899 0.669189L11.4055 1.38171L11.9899 2.13162L12.5743 1.38171ZM15.9103 3.53621L15.4947 3.02984L15.0795 3.53621L15.4947 4.03116L15.9103 3.53621ZM19.2811 18.1731L18.7543 17.6155L18.2275 18.1731L18.7543 18.6621L19.2811 18.1731ZM8.90068 3.53621L8.48508 3.02984L8.06988 3.53621L8.48508 4.03116L8.90068 3.53621ZM7.71028 6.01804H9.26028C10.5635 6.01804 11.1499 5.21817 11.3271 4.52453H12.6531C12.8303 5.21817 13.4163 6.01804 14.7199 6.01804H16.2699C16.2699 6.01804 16.5411 5.65017 16.6091 5.46801C16.8539 4.81253 16.5411 4.50683 16.0847 4.50683L15.4947 5.04152L14.9047 4.50683C14.4483 4.50683 14.1355 4.81253 14.3803 5.46801C14.4115 5.55181 14.4863 5.67496 14.5571 5.78316C14.0071 5.70762 13.3051 5.33109 13.1511 4.52453C13.1511 4.52453 13.5575 3.87889 13.6595 3.61765C14.0259 2.67811 13.5579 2.29411 12.8735 2.29411L11.9899 3.3328L11.1063 2.29411C10.4219 2.29411 9.95388 2.67811 10.3207 3.61765C10.4223 3.87889 10.8291 4.52453 10.8291 4.52453C10.6747 5.33109 9.97268 5.70762 9.42268 5.78316C9.49388 5.67496 9.56828 5.55181 9.59948 5.46801C9.84388 4.81253 9.53188 4.50683 9.07508 4.50683L8.48508 5.04152L7.89508 4.50683C7.43828 4.50683 7.12628 4.81253 7.37068 5.46801C7.43868 5.65017 7.71028 6.01804 7.71028 6.01804ZM23.7355 10.8228C23.4363 10.9742 21.6811 11.7965 19.4327 11.4924C19.4563 11.385 19.4755 11.2768 19.4919 11.1686C20.9883 10.9896 22.2047 10.7358 22.9799 10.3046C23.8635 9.8128 24.2499 8.63876 23.8039 7.76532C23.7923 7.74329 23.7603 7.73935 23.7443 7.75784C23.4999 8.03916 21.9631 9.71089 19.5419 10.2306C19.5355 10.1043 19.5243 9.97962 19.5075 9.85568C20.6835 9.1888 21.8315 8.4204 22.3783 7.71771C23.2047 6.65542 23.1287 5.3004 22.3423 4.60952C22.3255 4.59457 22.2983 4.59889 22.2867 4.61739C22.0379 5.02775 19.7091 8.79181 17.1523 10.4167C17.1267 10.4333 17.0923 10.4545 17.0579 10.4754C16.9847 10.5198 16.9767 10.615 17.0391 10.6717C17.3339 10.9388 17.5171 11.3106 17.5171 11.7234C17.5171 12.441 16.9639 13.0378 16.2327 13.1673C15.8611 13.2393 15.3247 13.2184 14.8095 13.0481C14.7863 13.0406 14.7623 13.0559 14.7623 13.0792V15.3521C14.7623 15.3887 14.8179 15.3977 14.8311 15.3627C15.1443 14.5329 16.0819 14.3567 16.4919 14.3567C16.6395 15.2435 16.9031 15.978 17.2455 16.3735C17.8031 17.0159 18.7135 17.0069 19.1083 16.5627C19.1219 16.5474 19.1179 16.5234 19.0995 16.5131C18.8675 16.3797 17.5403 15.5649 17.2747 14.2296C17.3795 14.1934 17.4819 14.1525 17.5799 14.1041C18.0083 14.8131 18.6319 15.4445 19.1339 15.6857C19.9771 16.0902 20.7491 15.8935 21.0915 15.3013C21.1039 15.2805 21.0887 15.2545 21.0635 15.2521C20.5419 15.2104 18.9411 14.7517 18.2595 13.6339C18.3375 13.5623 18.4139 13.4875 18.4851 13.4081C19.1983 13.951 20.2067 14.431 20.9287 14.529C21.7735 14.6439 22.7307 14.3744 22.7539 13.3919C22.7543 13.3723 22.7367 13.3561 22.7159 13.3573C22.4155 13.3754 20.4271 13.462 19.0103 12.6487C19.0595 12.5555 19.1051 12.4603 19.1479 12.3631C19.1479 12.3631 21.2887 12.8691 22.3031 12.7015C23.3111 12.535 23.9015 11.7835 23.7875 10.8487C23.7843 10.8255 23.7571 10.8117 23.7355 10.8228ZM4.83188 12.3631C4.87468 12.4603 4.92068 12.5555 4.96988 12.6487C3.55348 13.4616 1.56588 13.3758 1.26428 13.3573C1.24308 13.3561 1.22548 13.3731 1.22588 13.3923C1.24948 14.3744 2.20628 14.6439 3.05108 14.529C3.77268 14.431 4.78148 13.951 5.49468 13.4081C5.56628 13.4875 5.64228 13.5623 5.72028 13.6339C5.03828 14.7517 3.43788 15.2104 2.91628 15.2521C2.89108 15.2545 2.87628 15.2805 2.88828 15.3013C3.23068 15.8935 4.00268 16.0902 4.84628 15.6857C5.34788 15.4445 5.97148 14.8131 6.39988 14.1041C6.49828 14.1525 6.60068 14.1934 6.70508 14.2296C6.43948 15.5649 5.11228 16.3797 4.88028 16.5131C4.86228 16.5234 4.85788 16.5474 4.87148 16.5627C5.26628 17.0069 6.17708 17.0159 6.73468 16.3735C7.07708 15.978 7.34028 15.2435 7.48788 14.3567C7.89828 14.3567 8.83548 14.5329 9.14868 15.3627C9.16228 15.3977 9.21788 15.3887 9.21788 15.3521V13.0792C9.21788 13.0559 9.19348 13.0406 9.17028 13.0481C8.65508 13.2184 8.11868 13.2393 7.74748 13.1673C7.01588 13.0378 6.46268 12.441 6.46268 11.7234C6.46268 11.3106 6.64628 10.9384 6.94068 10.6713C7.00348 10.615 6.99508 10.5198 6.92228 10.4754C6.88748 10.4545 6.85308 10.4333 6.82708 10.4167C4.27188 8.7926 1.94428 5.03129 1.69348 4.61817C1.68188 4.59889 1.65388 4.59496 1.63668 4.60991C0.85148 5.30119 0.77508 6.65581 1.60148 7.71771C2.14828 8.4204 3.29628 9.1888 4.47188 9.85568C4.45548 9.97962 4.44388 10.1043 4.43788 10.2306C2.01868 9.71129 0.48308 8.0423 0.23628 7.75903C0.21988 7.73975 0.18708 7.74368 0.17588 7.76571C-0.26932 8.63955 0.11708 9.8128 0.99988 10.3046C1.77508 10.7358 2.99148 10.9896 4.48788 11.1686C4.50428 11.2768 4.52348 11.385 4.54708 11.4924C2.30108 11.7961 0.54668 10.9758 0.24508 10.8232C0.22268 10.8117 0.19548 10.8259 0.19268 10.8495C0.0790803 11.7843 0.66908 12.535 1.67708 12.7015C2.69108 12.8691 4.83188 12.3631 4.83188 12.3631ZM18.7543 19.3801L17.9743 18.7664C17.6631 18.9517 17.4343 19.246 17.3455 19.591C16.8763 19.6567 15.5971 19.3727 15.7215 19.1842C17.1235 17.2123 16.0511 16.0382 14.7623 16.1035V17.4279C14.7623 17.8532 14.3911 18.1978 13.9339 18.1978H13.0439C12.4055 18.1978 11.9899 18.8396 11.9899 18.8396C11.9899 18.8396 11.5743 18.1978 10.9359 18.1978H10.0459C9.58828 18.1978 9.21788 17.8532 9.21788 17.4279V16.1035C7.92908 16.0382 6.85588 17.2123 8.25828 19.1842C8.38148 19.3707 7.06668 19.6693 6.44988 19.5938C6.28748 19.4254 6.05308 19.3192 5.79068 19.3192C5.67508 19.3192 5.56508 19.3404 5.46388 19.3778C5.46388 19.3778 3.04028 17.0832 2.99588 17.0608L3.01588 17.0144C3.15388 16.7563 2.94268 16.475 2.80908 16.4946C2.96428 16.3085 2.97148 15.4937 2.11068 15.3053C2.13588 15.4689 2.14868 15.803 2.14868 15.803C2.14868 15.803 1.48428 15.4437 1.15068 15.7538C0.85748 16.1008 1.26428 16.7303 1.26428 16.7303C1.26428 16.7303 0.92428 16.7386 0.75668 16.7244C1.00308 17.5577 1.82948 17.4987 2.00828 17.3342C1.99668 17.4668 2.29548 17.6557 2.54868 17.5042L2.65988 17.4503C2.67948 17.4767 5.03988 19.7067 5.03988 19.7067C4.93148 19.8676 4.87988 20.0651 4.91548 20.2756C4.97148 20.6045 5.24548 20.8772 5.59548 20.948C5.84268 20.9976 6.07508 20.9496 6.26148 20.8406L6.88628 21.4205C6.94188 21.4709 7.01708 21.5024 7.10108 21.4965C7.25388 21.4862 7.36828 21.3623 7.35668 21.2203C7.35188 21.1561 7.31908 21.1011 7.27388 21.0594C7.26388 21.0483 6.63748 20.4668 6.63748 20.4668C7.15428 20.1045 8.11708 19.8491 8.91628 19.8491C9.05668 19.8491 9.12268 19.7303 9.07428 19.6138C8.71228 18.7432 9.49068 18.1125 10.2959 18.6259C10.6471 18.8498 11.0039 19.2908 11.2727 20.0266C9.95148 20.3464 8.29268 21.2277 7.95708 22.1897C7.82788 22.5611 8.25468 23.0675 8.77308 23.1694C8.79268 23.1737 8.81148 23.1607 8.81508 23.1422C9.08588 21.7062 10.6303 20.636 11.4339 20.4542C11.4743 20.5624 11.4611 20.5274 11.5015 20.6352C10.6263 21.0491 9.77748 21.9222 9.53508 22.9601C9.42388 23.4354 9.95388 23.8638 10.3915 23.9811C10.4135 23.987 10.4351 23.9716 10.4363 23.9504C10.5195 22.6378 11.0991 21.5232 11.6183 21.0161C11.6323 21.1136 11.6431 21.2136 11.6503 21.3147C11.6503 21.3147 11.1187 22.796 11.1187 23.8768C11.1187 24.3796 11.8659 24.7306 11.9763 24.7797C12.1143 24.7306 12.8611 24.3796 12.8611 23.8768C12.8611 22.796 12.3295 21.3147 12.3295 21.3147C12.3371 21.2136 12.3475 21.1136 12.3619 21.0161C12.8807 21.5232 13.4607 22.6375 13.5435 23.95C13.5447 23.9712 13.5667 23.987 13.5883 23.9811C14.0263 23.8638 14.5559 23.4354 14.4451 22.9601C14.2023 21.9222 13.3539 21.0491 12.4787 20.6352C12.5187 20.5274 12.5055 20.5624 12.5459 20.4542C13.3499 20.636 14.8939 21.7062 15.1647 23.1422C15.1683 23.1607 15.1875 23.1737 15.2067 23.1694C15.7247 23.0675 16.1523 22.5611 16.0223 22.1897C15.6875 21.2277 14.0283 20.3464 12.7071 20.0266C12.9763 19.2908 13.3331 18.8498 13.6843 18.6259C14.4891 18.1125 15.2675 18.7432 14.9055 19.6138C14.8571 19.7303 14.9227 19.8491 15.0635 19.8491C15.9675 19.8491 17.0811 20.1757 17.5219 20.6136C17.8035 21.0361 18.3239 21.3064 18.9111 21.2486C19.5783 21.1833 20.1223 20.682 20.1975 20.0624C20.2631 19.5194 19.9823 19.0319 19.5347 18.7664L18.7543 19.3801ZM13.0051 15.4249C13.2831 15.3218 13.7187 15.4052 13.7039 15.8065C13.7003 15.8974 13.8279 15.8974 13.8371 15.8045C13.9203 15.2037 13.5143 15.0306 13.0895 15.1011C13.0367 14.8945 12.9935 14.7139 12.9443 14.5349C12.9051 14.3901 12.8907 14.1182 13.0583 14.1182C13.1487 14.1182 13.1123 14.3712 13.1039 14.4802C13.0963 14.5758 13.1307 14.6336 13.2083 14.6364C13.2567 14.6384 13.3171 14.5766 13.3531 14.5357C13.5963 14.2607 13.6527 13.835 13.3679 13.6296C13.1295 13.4573 12.5327 13.5855 12.3687 13.831C12.3439 13.7386 12.2255 13.5859 12.1687 13.5194C12.1135 13.4545 12.0991 13.41 12.1755 13.353C12.2115 13.3255 12.3203 13.2173 12.3203 13.1055C12.3203 13.0394 12.2691 12.9175 12.1063 12.9175C11.9779 12.9175 11.8351 13.0064 11.8351 13.2047C11.8351 13.2487 11.8459 13.2959 11.8743 13.3467C11.7931 13.3333 11.5727 13.3388 11.4595 13.3668L13.0247 17.662C13.4727 17.4409 13.8011 17.0907 13.8011 16.715C13.8011 16.3947 13.3295 16.5009 13.1003 16.7508C13.0267 16.3447 12.9611 15.9698 12.8895 15.596C12.8699 15.4929 12.9223 15.4559 13.0051 15.4249ZM10.7919 12.5071L11.1207 13.4207C10.8391 13.4875 10.3863 13.6929 10.3863 13.9648C10.3863 14.3268 11.0267 14.5624 11.3971 14.5341C11.3787 14.6167 11.3999 14.6903 11.4575 14.7576C11.3231 14.7576 11.0695 14.8201 10.9863 14.9098C10.7899 14.7269 10.4827 14.6604 10.3367 14.7717C10.1899 14.8839 10.1855 15.0739 10.3387 15.2887C10.4455 15.4375 10.4855 15.5842 10.3655 15.7565C10.8119 15.7565 10.6475 15.1762 10.8223 15.1762C10.7995 15.2887 10.8135 15.419 10.8643 15.5634C10.8979 15.6594 10.8979 15.7274 10.8403 15.8199C10.6963 16.05 10.4723 16.5788 10.5027 17.0569C10.3563 17.0561 10.2819 17.0203 10.3335 16.8204C10.3527 16.746 10.3067 16.6929 10.2459 16.7846C10.1787 16.8857 10.1463 17.0584 10.1463 17.1324C10.1463 17.5581 10.6535 17.6439 10.8471 17.5538C11.4071 18.0957 12.5071 17.9512 12.8755 17.7694L10.9387 12.4552C10.8991 12.3548 10.7571 12.4028 10.7919 12.5071ZM10.7247 16.8845C10.6847 16.6658 10.9891 16.2747 11.3763 15.8974C11.2939 16.1433 11.3451 16.567 11.5067 16.713C11.2259 16.713 10.8923 16.7657 10.7247 16.8845Z"
                                        fill="black"
                                    />
                                </svg>
                                Партнерство с гос. структурами
                            </div>
                            <div>
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="18"
                                    height="18"
                                    viewBox="0 0 18 18"
                                    fill="none"
                                >
                                    <path
                                        d="M7.21386 0.131066C5.9578 -0.275544 4.59234 0.290042 3.99167 1.46575L3.26953 2.8792C3.18373 3.04714 3.04714 3.18373 2.8792 3.26953L1.46575 3.99167C0.290042 4.59234 -0.275544 5.9578 0.131066 7.21386L0.619902 8.72394C0.677984 8.90336 0.677984 9.09658 0.619902 9.276L0.131066 10.7861C-0.275544 12.0422 0.290042 13.4076 1.46575 14.0083L2.8792 14.7304C3.04714 14.8162 3.18373 14.9528 3.26953 15.1208L3.99167 16.5342C4.59234 17.71 5.9578 18.2755 7.21386 17.8689L8.72394 17.3801C8.90336 17.322 9.09658 17.322 9.276 17.3801L10.7861 17.8689C12.0422 18.2755 13.4076 17.71 14.0083 16.5342L14.7304 15.1208C14.8162 14.9528 14.9528 14.8162 15.1208 14.7304L16.5342 14.0083C17.71 13.4076 18.2755 12.0422 17.8689 10.7861L17.3801 9.276C17.322 9.09658 17.322 8.90336 17.3801 8.72394L17.8689 7.21386C18.2755 5.9578 17.71 4.59234 16.5342 3.99167L15.1208 3.26953C14.9528 3.18373 14.8162 3.04714 14.7304 2.8792L14.0083 1.46575C13.4076 0.290042 12.0422 -0.275544 10.7861 0.131066L9.276 0.619902C9.09658 0.677976 8.90336 0.677984 8.72394 0.619902L7.21386 0.131066ZM4.30373 8.78247L5.57114 7.51498L8.10593 10.0499L13.1756 4.98024L14.443 6.24765L8.10593 12.5846L4.30373 8.78247Z"
                                        fill="#4B4951"
                                        fill-opacity="0.8"
                                    />
                                </svg>
                                Счет для бизнеса по металлу
                            </div>
                        </div>
                        <div class="advantages-card-text">
                            <p>
                                Работаем с ГосОборон заказами и ГосКонтрактами.
                                Открытие отдельного банковского счета.
                            </p>
                            <span
                                >Работа с государственными заказами представляет
                                собой уникальную возможность для компаний,
                                занимающихся комплексными и оптовыми поставками
                                металлопродукта.</span
                            >
                        </div>
                    </div>
                    <div class="advantages-card advantages-bg-2">
                        <div class="advantages-item">
                            <div>
                                <svg
                                    width="22"
                                    height="22"
                                    viewBox="0 0 22 22"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M21.7071 14.2929C22.0976 14.6834 22.0976 15.3166 21.7071 15.7071L17.7071 19.7071C17.3166 20.0976 16.6834 20.0976 16.2929 19.7071L14.2929 17.7071C13.9024 17.3166 13.9024 16.6834 14.2929 16.2929C14.6834 15.9024 15.3166 15.9024 15.7071 16.2929L17 17.5858L20.2929 14.2929C20.6834 13.9024 21.3166 13.9024 21.7071 14.2929Z"
                                        fill="black"
                                    />
                                    <path
                                        d="M9.5971 0.185046C9.86292 0.130375 10.1371 0.130375 10.4029 0.185046C10.7102 0.248242 10.9848 0.402069 11.2032 0.524362L11.2627 0.557609C13.0256 1.53701 16.0079 3.19466 17.6893 4.12926C18.0975 4.35619 18.3017 4.46965 18.3699 4.61961C18.4293 4.75034 18.4297 4.90033 18.3709 5.03136C18.3035 5.18166 18.0997 5.29625 17.6923 5.52544L15.3632 6.83555L6.40038 1.85619L8.73733 0.55761L8.79685 0.524362C9.01519 0.402069 9.28983 0.248242 9.5971 0.185046Z"
                                        fill="black"
                                    />
                                    <path
                                        d="M4.34168 3.00039L13.3169 7.98661L10.3922 9.63177C10.2491 9.71225 10.1776 9.75249 10.1017 9.76825C10.0346 9.78221 9.96533 9.78221 9.8982 9.76825C9.82235 9.75249 9.75082 9.71225 9.60775 9.63177L2.30769 5.52545C1.90025 5.29627 1.69653 5.18167 1.62907 5.03137C1.57027 4.90034 1.57065 4.75035 1.63012 4.61962C1.69833 4.46967 1.90245 4.3562 2.3107 4.12928L4.34168 3.00039Z"
                                        fill="black"
                                    />
                                    <path
                                        d="M19.9959 7.89013C19.9955 7.4418 19.9953 7.21764 19.9008 7.08675C19.8183 6.97256 19.6915 6.89845 19.5515 6.88267C19.3911 6.86457 19.1953 6.97469 18.8038 7.19493L11.4078 11.3552C11.2593 11.4387 11.1851 11.4805 11.1311 11.5395C11.0833 11.5918 11.0471 11.6536 11.025 11.7209C11 11.7969 11 11.8821 11 12.0524V20.2277C11 20.6749 11 20.8985 11.094 21.0293C11.1761 21.1434 11.3023 21.2177 11.4419 21.234C11.6019 21.2527 11.7968 21.1445 12.1865 20.9281C12.3936 20.8131 12.6217 20.6865 12.8658 20.5509C13.1807 20.3761 13.3381 20.2887 13.4075 20.1643C13.4683 20.0554 13.4862 19.9278 13.4577 19.8064C13.4251 19.6678 13.2978 19.5404 13.0432 19.2858L12.8787 19.1213C11.7071 17.9497 11.7071 16.0503 12.8787 14.8787C14.0095 13.7478 15.8186 13.7085 16.9966 14.7608L18.8787 12.8787C19.0647 12.6926 19.2691 12.5361 19.4861 12.4092C19.7082 12.2791 19.8193 12.2141 19.8718 12.1554C19.9268 12.0938 19.9493 12.0544 19.9746 11.9759C19.9988 11.9009 19.9988 11.8022 19.9986 11.6049C19.9978 10.2354 19.9967 8.86272 19.9959 7.89013Z"
                                        fill="black"
                                    />
                                    <path
                                        d="M7.81351 20.9281C8.20323 21.1445 8.39809 21.2527 8.55808 21.234C8.69766 21.2177 8.82394 21.1434 8.90598 21.0293C9 20.8985 9 20.6749 9 20.2277V12.0525C9 11.8821 9 11.797 8.97501 11.7209C8.95289 11.6536 8.91674 11.5918 8.86894 11.5396C8.81491 11.4805 8.74066 11.4387 8.59221 11.3552L1.19624 7.19496C0.804702 6.97472 0.608935 6.8646 0.448491 6.88269C0.308519 6.89848 0.181685 6.97259 0.0992064 7.08677C0.00466455 7.21766 0.00447714 7.44183 0.00410232 7.89017C0.00254217 9.75633 2.55066e-06 13.0956 2.55066e-06 15.0586L-0.000175071 15.1308C-0.00113637 15.3946 -0.00234505 15.7264 0.100972 16.0391C0.190297 16.3095 0.336318 16.5576 0.529269 16.767C0.752434 17.0092 1.04303 17.1692 1.27416 17.2966L1.33733 17.3314C3.11852 18.321 6.14715 20.0028 7.81351 20.9281Z"
                                        fill="black"
                                    />
                                </svg>

                                Профессиональный подход
                            </div>
                            <div>
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="18"
                                    height="18"
                                    viewBox="0 0 18 18"
                                    fill="none"
                                >
                                    <path
                                        d="M7.21386 0.131066C5.9578 -0.275544 4.59234 0.290042 3.99167 1.46575L3.26953 2.8792C3.18373 3.04714 3.04714 3.18373 2.8792 3.26953L1.46575 3.99167C0.290042 4.59234 -0.275544 5.9578 0.131066 7.21386L0.619902 8.72394C0.677984 8.90336 0.677984 9.09658 0.619902 9.276L0.131066 10.7861C-0.275544 12.0422 0.290042 13.4076 1.46575 14.0083L2.8792 14.7304C3.04714 14.8162 3.18373 14.9528 3.26953 15.1208L3.99167 16.5342C4.59234 17.71 5.9578 18.2755 7.21386 17.8689L8.72394 17.3801C8.90336 17.322 9.09658 17.322 9.276 17.3801L10.7861 17.8689C12.0422 18.2755 13.4076 17.71 14.0083 16.5342L14.7304 15.1208C14.8162 14.9528 14.9528 14.8162 15.1208 14.7304L16.5342 14.0083C17.71 13.4076 18.2755 12.0422 17.8689 10.7861L17.3801 9.276C17.322 9.09658 17.322 8.90336 17.3801 8.72394L17.8689 7.21386C18.2755 5.9578 17.71 4.59234 16.5342 3.99167L15.1208 3.26953C14.9528 3.18373 14.8162 3.04714 14.7304 2.8792L14.0083 1.46575C13.4076 0.290042 12.0422 -0.275544 10.7861 0.131066L9.276 0.619902C9.09658 0.677976 8.90336 0.677984 8.72394 0.619902L7.21386 0.131066ZM4.30373 8.78247L5.57114 7.51498L8.10593 10.0499L13.1756 4.98024L14.443 6.24765L8.10593 12.5846L4.30373 8.78247Z"
                                        fill="#4B4951"
                                        fill-opacity="0.8"
                                    />
                                </svg>
                                Проверенная компания
                            </div>
                        </div>
                        <div class="advantages-card-text">
                            <p>
                                Наша компания уже не первый год осуществляет
                                оптовые поставки металлопроката по всей России.
                            </p>
                            <span
                                >Благодаря наличию собственных складов мы
                                выполняем поставки в самые кратчайшие
                                сроки.</span
                            >
                        </div>
                    </div>
                </div>
            </section>
            <section class="container mx-auto flex flex-col gap-12">
                <div class="flex justify-between items-center">
                    <h2 class="title">Популярные товары</h2>
                    <Link
                        href="/catalog"
                        class="flex max-sm:hidden items-center text-gray_icon gap-1"
                    >
                        Смотреть все категории
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="14"
                            height="11"
                            viewBox="0 0 14 11"
                            fill="none"
                        >
                            <path
                                d="M1.66683 5.5H12.3335M12.3335 5.5L8.3335 1.5M12.3335 5.5L8.3335 9.5"
                                stroke="#4B4951"
                                stroke-width="1.6"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            />
                        </svg>
                    </Link>
                </div>

                <div class="flex overflow-x-auto md:grid grid-cols-4 gap-4">
                    <Link
                        :href="`/product/${product.id}`"
                        v-for="product in products"
                        class="product-card shrink-0"
                    >
                        <p
                            v-if="
                                product.specifications.find(
                                    (item) => item.key === 'gost'
                                )?.value
                            "
                            class="gost"
                        >
                            ГОСТ
                            {{
                                product.specifications.find(
                                    (item) => item.key === "gost"
                                )?.value
                            }}
                        </p>
                        <div class="image-wrapper">
                            <img
                                :src="
                                    '/storage/' +
                                    (Array.isArray(product.images)
                                        ? product.images[0]
                                        : product.images)
                                "
                                alt=""
                            />
                        </div>
                        <div class="flex flex-col h-full justify-between gap-4">
                            <p class="text-gray_icon text-xs">
                                {{
                                    product.specifications
                                        .map((spec) => spec.value)
                                        .join(", ")
                                }}
                            </p>
                            <div class="product-text">
                                <p>{{ product.name }}</p>
                            </div>
                            <button
                                @click.prevent="
                                    useContactModalStore().openModal()
                                "
                                class="btn btn-secondary w-fit mt-auto"
                            >
                                Заказать звонок
                            </button>
                        </div>
                    </Link>
                </div>
            </section>
            <section class="container px-0 mx-auto flex flex-col gap-12">
                <h2 class="title max-sm:px-8">
                    Занимаемся поставками <br />
                    металлопроката<br />
                    по всей России
                </h2>
                <div class="max-sm:pl-8">
                    <img
                        class="flex lg:hidden"
                        src="/assets/img/map_tablet.png"
                        alt=""
                    />
                    <img
                        class="hidden lg:block"
                        src="/assets/img/map_pc.png"
                        alt=""
                    />
                </div>
            </section>

            <section
                class="container mx-auto max-md:flex-col flex items-start gap-28"
            >
                <div class="flex md:max-w-[500px] flex-col gap-10">
                    <div class="flex flex-col gap-6">
                        <h2 class="title">
                            Нужна консультация по выбору металлопроката?
                        </h2>
                        <p class="text-lg">
                            Оставьте заявку, и наш специалист свяжется с вами
                            для подробной консультации.
                        </p>
                    </div>
                    <div class="flex flex-col gap-6">
                        <div class="input-label-block">
                            <label for="name"
                                >Имя и Фамилия <span>*</span></label
                            >
                            <div class="input-wrapper">
                                <input
                                    type="text"
                                    id="name"
                                    placeholder="Имя и фамилия"
                                    autocomplete="off"
                                />
                            </div>
                        </div>
                        <div class="input-label-block">
                            <label for="phone"
                                >Контактный телефон <span>*</span></label
                            >
                            <div class="input-wrapper">
                                <input
                                    type="tel"
                                    id="phone"
                                    placeholder="+7 (900) 000-00-00"
                                    autocomplete="off"
                                />
                            </div>
                        </div>
                        <div class="input-label-block">
                            <label for="time">Удобное для вас время</label>
                            <div class="input-wrapper">
                                <input
                                    type="text"
                                    id="time"
                                    placeholder="Пятница 12:00"
                                    autocomplete="off"
                                />
                            </div>
                        </div>
                        <div class="input-label-block">
                            <label for="email">E-mail</label>
                            <div class="input-wrapper">
                                <input
                                    type="email"
                                    id="email"
                                    placeholder="you@email.com"
                                    autocomplete="off"
                                />
                            </div>
                        </div>
                        <button
                            class="btn text-center btn-primary justify-center py-4"
                        >
                            Заказать звонок
                        </button>
                    </div>
                </div>
                <div class="info-company-container">
                    <div class="item">
                        <p>Название организации</p>
                        <span>{{
                            settingStore.options.settings?.name_company
                        }}</span>
                    </div>
                    <div class="line"></div>
                    <div class="item">
                        <p>Юридический/Фактический адрес</p>
                        <span>{{
                            settingStore.options.settings?.fakt_address
                        }}</span>
                    </div>
                    <div class="line"></div>
                    <div class="item">
                        <p>Почтовый адрес</p>
                        <span>{{
                            settingStore.options.settings?.mail_address
                        }}</span>
                    </div>
                    <div class="line"></div>
                    <div class="item">
                        <div class="flex items-center gap-10">
                            <div class="company-item">
                                <p>ИНН</p>
                                <span>{{
                                    settingStore.options.settings?.inn
                                }}</span>
                            </div>
                            <div class="company-item">
                                <p>КПП</p>
                                <span>{{
                                    settingStore.options.settings?.kpp
                                }}</span>
                            </div>
                            <div class="company-item">
                                <p>ОГРН</p>
                                <span>{{
                                    settingStore.options.settings?.orgn
                                }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="line"></div>
                    <div class="item">
                        <p>Постановка в налоговый учет</p>
                        <span>{{
                            settingStore.options.settings?.tax_system
                        }}</span>
                    </div>
                </div>
            </section>
        </main>
    </Layout>
</template>

<style scoped>
.swiper {
    width: 100%;
    height: 100%;
}

.swiper-slide {
    max-width: 370px;
    height: auto;
    flex: 1;
}
</style>
